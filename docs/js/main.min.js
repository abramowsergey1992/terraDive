$(function(){if($(".blog-page").length){const e=new Swiper(".blog-type-slider",{allowTouchMove:"false",loop:!1,autoHeight:!0});$(".blog-page__head-filter").click(function(){$(".blog-page__head-filter").removeClass("_active"),$(this).addClass("_active"),e.slideTo($(this).data("slideindex"))}),$(".blog-page__filter").click(function(){let t=$(this).data("filter");$(".blog-page__filter").removeClass("_active"),$(this).addClass("_active"),$(".aticle-preview").removeClass("_hidden"),$(".aticle-month-group").removeClass("_hidden"),$(".news-preview").removeClass("_hidden"),"All"!=t&&($(".aticle-month-group").each(function(){let e=0;$(this).find(".aticle-preview").each(function(){$(this).data("filter")==t?e++:$(this).addClass("_hidden")}),0==e?$(this).addClass("_hidden"):$(this).removeClass("_hidden")}),$(".news-preview").each(function(){$(this).data("filter")!=t&&$(this).addClass("_hidden")}))}),$(".blog-page__filter._active").trigger("click"),$(".blog-page__head-filter._active").trigger("click")}}),$(function(){$(".other-news-slider").length&&new Swiper(".other-news-slider",{slidesPerView:1,spaceBetween:10,breakpoints:{700:{slidesPerView:2},1100:{slidesPerView:3,spaceBetween:30}}})}),$(function(){var e=new ScrollMagic.Controller;if($(".front-top").length){var t=document.getElementById("front-top-bg");new Parallax(t);let i=$(".front-top-slide").length,o=1;$(".front-top-slide").each(function(){var e=10<=o?o:"0"+o,t=10<=i?i:"0"+i;$(this).find(".front-top-slide__pagi-now").text(`${e}`),$(this).find(".front-top-slide__pagi-all").text(`/${t}`),o++});new Swiper("#front-top-slider",{loop:!0,spaceBetween:10,breakpoints:{992:{spaceBetween:0}},pagination:{el:$(".front-top__slider-pagination")[0],type:"bullets"},navigation:{nextEl:$(".front-top__slider-nav-next")[0],prevEl:$(".front-top__slider-nav-prev")[0]}})}function i(){let e=0;var t=$(".front-algorithm._active .front-algorithm__table-wrap").outerWidth();$(".front-algorithm__table-wrap table").removeAttr("style"),$(".front-algorithm__table-wrap table").css("width",t),$(".front-algorithm__table-wrap table").each(function(){e<=$(this).height()&&(e=$(this).height())}),$(".front-algorithm__table-wrap table").css("min-height",e),$(".front-algorithm__table-wrap table").css("min-width",t)}$(".front-m100 ").length&&(new ScrollMagic.Scene({triggerElement:"#front-m100",triggerHook:.5,duration:300}).setTween("#front-m100-mask",{left:"50%",width:"100%"}).addTo(e),new ScrollMagic.Scene({triggerElement:"#front-m100",offset:"200",triggerHook:.5,duration:100}).setTween("#front-m100-cover",{opacity:1}).addTo(e)),$(".front-geo ").length&&(new ScrollMagic.Scene({triggerElement:"#front-geo",triggerHook:.5,duration:300}).setTween("#front-m200-mask",{left:"50%",width:"100%"}).addTo(e),new ScrollMagic.Scene({triggerElement:"#front-geo",offset:"400",triggerHook:.5,duration:100}).setTween("#front-m200-cover",{opacity:1}).addTo(e)),$(".front-method").length&&$(".front-method").each(function(){$(this).find(".front-method__img").length||$(this).addClass("_no-img")}),$(".front-sertificates-slider ").length&&new Swiper(".front-sertificates-slider",{slidesPerView:1.3,spaceBetween:10,breakpoints:{500:{slidesPerView:2},750:{slidesPerView:3},1100:{slidesPerView:4}}}),$(".front-news-slider").length&&new Swiper(".front-news-slider",{slidesPerView:1,spaceBetween:10,breakpoints:{700:{slidesPerView:2},1100:{slidesPerView:3,spaceBetween:30}}}),$(".front-reviews-slider").length&&new Swiper(".front-reviews-slider",{slidesPerView:1.3,spaceBetween:10,breakpoints:{600:{slidesPerView:2},992:{slidesPerView:3}}}),$(".front-cooperation-slider").length&&(new Swiper(".front-cooperation-slider",{slidesPerView:3,spaceBetween:0,breakpoints:{550:{slidesPerView:4},700:{slidesPerView:4},992:{slidesPerView:5}}}),$(".front-cooperation__filter").click(function(){let e=$(this).data("filter");$(".front-cooperation__filter").removeClass("_active"),$(this).addClass("_active"),$(".front-cooperation-slider .swiper-slide").each(function(){$(this).removeAttr("style"),$(this).data("category")==e&&$(this).css("display","none")})}),$(".front-cooperation__filter").first().trigger("click")),$(".front-algorithm").length&&($(".front-algorithm").first().addClass("_active"),$(".front-algorithm__left").click(function(){$(".front-algorithm").removeClass("_active"),$(this).closest(".front-algorithm").addClass("_active")}),i(),setTimeout(function(){i()},500),$(window).on("resize",function(){i()}))}),$(function(){let o=["6/10","4/10","1/3","1/3","1/3"],r=$(".our-projects__projects").data("pagelenght"),a=$(".our-projects__projects").data("pagestart");$(".our-projects__filter").click(function(){$(".our-projects__filter").removeClass("_active"),$(this).addClass("_active");let e=$(this).data("filter"),t=0,i=0;$(".project-preview").removeClass("_visible"),$(".project-preview").each(function(){"all"!=e&&e!=$(this).data("filter")||(t++,t<=a&&($(this).addClass("_visible"),$(this).attr("data-width",o[i]),i++,i>=o.length&&(i=0)))}),"all"!=e&&$(".project-preview._visible[data-filter='"+e+"']").length==$(".project-preview[data-filter='"+e+"']").length||$(".project-preview._visible").length==$(".project-preview").length?$(".our-projects__more").fadeOut():$(".our-projects__more").fadeIn()}),$(".our-projects__filter._active").trigger("click"),$(".our-projects__more").click(function(){let e=$(".our-projects__filter._active").data("filter"),t=0,i=0;$(".project-preview").each(function(){$(this).hasClass("_visible")||"all"!=e&&e!=$(this).data("filter")||(t++,t<=r&&($(this).addClass("_visible"),$(this).attr("data-width",o[i]),i++,i>=o.length&&(i=0))),"all"!=e&&$(".project-preview._visible[data-filter='"+e+"']").length==$(".project-preview[data-filter='"+e+"']").length||$(".project-preview._visible").length==$(".project-preview").length?$(".our-projects__more").fadeOut():$(".our-projects__more").fadeIn()})})}),$(function(){}),$(function(){let t=$(".stories-list").data("pagination"),e=0;$(".story-preview").each(function(){e++,e<=t&&$(this).removeClass("_hidden-story")}),$(".story-more").click(function(){let e=0;$(".story-preview").each(function(){$(this).hasClass("_hidden-story")&&(e++,e<=t&&$(this).removeClass("_hidden-story"))}),0==$("._hidden-story").length&&$(this).fadeOut()})}),$(function(){}),$(function(){if($(".contact-page").length){$(".contact-data-swiper .swiper-slide").each(function(e){$(this).attr("data-indx",e)});const e=new Swiper(".contact-data-swiper ",{allowTouchMove:"false",loop:!1});$("#contact-country").change(function(){e.slideTo($('.swiper-slide[data-slide="'+$(this).val()+'"]').data("indx"))})}$("#contact-form").length&&$("#contact-form").validate({errorPlacement:function(e,t){},submitHandler:function(e){$(".contact-form__btn").attr("disabled","disabled"),$.ajax({url:$(e).attr("action"),data:$(e).serialize(),method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},context:document.body,success:function(){alert("Форма отправленна успешно"),$(".contact-form__btn").removeAttr("disabled")},error:function(){alert("Ошибка"),$(".contact-form__btn").removeAttr("disabled")}})}})}),$(function(){var e=$(".sticky");Stickyfill.add(e),Stickyfill.forceSticky()}),$(function(){$(".header__mini").find(".header__menu-row ").html($(".header__full").find(".header__menu-row ").html()),$(window).scroll(function(){50<window.scrollY?$(".header").addClass("_not-top"):$(".header").removeClass("_not-top")});const t=window.matchMedia("(max-width: 992px)");$(".header__mob-toogle").click(function(){$(".header").toggleClass("_menu-open")}),$("._is-dropdown .header__menu-link").click(function(e){t.matches&&(e.preventDefault(),$(this).closest(".header__menu-item").toggleClass("_open-dropdown"))})}),$(function(){$("._mask-phone").each(function(){Inputmask("+7 (999) 999-99-99").mask(this)}),$("._mask-date").each(function(){Inputmask("99.99.9999").mask(this)})}),$(function(){$(".select2").each(function(){$(this).select2({minimumResultsForSearch:-1,placeholder:$(this).data("placeholder")})})}),$(function(){if($("#step-3-form-slider").length){const i=new Swiper("#step-3-form-slider",{autoHeight:!0,slidesPerView:1,spaceBetween:10,allowTouchMove:!1,on:{slideChange:function(){$("#step-3-form-slider").attr("slide",this.activeIndex),$(".step-3-form__step").removeClass("_active"),$(".step-3-form__step").eq(this.activeIndex).addClass("_active"),setTimeout(function(){$("HTML, BODY").animate({scrollTop:$(".step-3-form__steps").offset().top-100},700)},300)}}});$("#step-3-form-slider").validate({errorPlacement:function(e,t){},submitHandler:function(e){console.log("asdas");var t=$("#step-3-form-slider").attr("slide");"0"==t&&i.slideTo(1),"1"==t&&i.slideTo(2),"2"==t&&($(".upload-files__file").length?($(".upload-files").removeClass("_error"),$(".step-3-form__submit").attr("disabled","disabled"),$.ajax({url:$(e).attr("action"),data:$(e).serialize(),method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},context:document.body,success:function(){alert("Форма отправленна успешно"),$(".step-3-form__submit").removeAttr("disabled")},error:function(){alert("Ошибка"),$(".step-3-form__submit").removeAttr("disabled")}})):$(".upload-files").addClass("_error"))}});$(".upload-files__input-file").on("change",function(){var e=this.files;$(".upload-files").removeClass("_error");for(var t=0;t<e.length;t++){var i=e[t];$(" .upload-files__msg").text(""),i.type.match(/image\/(jpeg|jpg|png|gif)/)?2097152<i.size?$(" .upload-files__msg").text("Размер фотографии не должен превышать 2 Мб"):function(t){var e=new FileReader;e.addEventListener("load",function(e){document.createElement("img");e='<div class="upload-files__files"><div class="upload-files__file"><textarea class="upload-files__file-input" name="file[]">'+e.target.result+'</textarea><div class="upload-files__file-photo" style="background-image:url('+e.target.result+')"></div><div class="upload-files__file-name">'+t.name+'</div><div class="upload-files__file-delete"> </div></div></div>';$(".upload-files__files").append(e),queue[t.name]=t}),e.readAsDataURL(t)}(e[t]):$(" .upload-files__msg").text("Фотография должна быть в формате jpg, png или gif")}this.value=""}),$(document).on("click",".upload-files__file-delete",function(){$(this).closest(".upload-files__file").remove()})}}),$(function(){$(".top__bg").length&&$("body").addClass("_top-bg"),$(".top__down").click(function(){$("HTML, BODY").animate({scrollTop:window.innerHeight},1e3)})});var vh=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${vh}px`);var width=window.innerWidth;window.addEventListener("resize",()=>{var e;width!=window.innerWidth&&(e=.01*window.innerHeight,document.documentElement.style.setProperty("--vh",`${e}px`),width=window.innerWidth)});